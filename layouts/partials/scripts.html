<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
<script src="/assets/bundle.js"></script>

<script>
    var TxtRotate = function(el, toRotate, period) {
        this.toRotate = toRotate;
        this.el = el;
        this.loopNum = 0;
        this.period = parseInt(period, 10) || 2000;
        this.txt = '';
        this.tick();
        this.isDeleting = false;
      };
      
      TxtRotate.prototype.tick = function() {
        var i = this.loopNum % this.toRotate.length;
        var fullTxt = this.toRotate[i];
      
        if (this.isDeleting) {
          this.txt = fullTxt.substring(0, this.txt.length - 1);
        } else {
          this.txt = fullTxt.substring(0, this.txt.length + 1);
        }
      
        this.el.innerHTML = '<span class="wrap">'+this.txt+'</span>';
      
        var that = this;
        var delta = 300 - Math.random() * 100;
      
        if (this.isDeleting) { delta /= 2; }
      
        if (!this.isDeleting && this.txt === fullTxt) {
          delta = this.period;
          this.isDeleting = true;
        } else if (this.isDeleting && this.txt === '') {
          this.isDeleting = false;
          this.loopNum++;
          delta = 500;
        }
      
        setTimeout(function() {
          that.tick();
        }, delta);
      };

    function openTab(evt, tabName) {
        var i, x, tablinks;
        x = document.getElementsByClassName("product-type");
        for (i = 0; i < x.length; i++) {
            x[i].style.display = "none";
        }
        tablinks = document.getElementsByClassName("tablink");
        for (i = 0; i < x.length; i++) {
            tablinks[i].className = tablinks[i].className.replace(" active", "");
        }
        document.getElementById(tabName).style.display = "block";
        evt.currentTarget.parentElement.className += " active";
    }
    window.onload = function () {
        if (document.getElementById("gs-ctrl") != undefined) {
            document.getElementById("gs-ctrl").className += " active"
        }
        if (!window.location.href.includes("faq") && !window.location.href.includes("all-articles") && (document
                .getElementById("acc-man") != undefined)) {
            document.getElementById("acc-man").className += " active";
        }
        if (window.location.href.includes("faq") && (document.getElementById("acc-faq") != undefined)) {
            document.getElementById("acc-faq").className += " active";
        }
        if (window.location.href.includes("all-articles") && (document.getElementById("acc-all") != undefined)) {
            document.getElementById("acc-all").className += " active";
        }
        if (window.location.href.includes("faq")) {
            var elements = document.getElementsByClassName("panel-group");
            for (var i = 0; i < elements.length; i++) {
                elements[i].className += " faq-list"
            }
            $('a[data-toggle="collapse"]').addClass('inactive');
        }
        $("table").addClass(["table", "table-striped", "table-bordered"]);

        var arrOfPtags = document.getElementsByTagName("p");
        for (var i = 0; i < arrOfPtags.length; i++) {
            if (arrOfPtags[i].innerHTML.toLowerCase().includes("<strong>note</strong>") || arrOfPtags[i].innerHTML
                .toLowerCase().includes("<strong>note:</strong>")) {
                arrOfPtags[i].className += "callout-note";
            }
            if (arrOfPtags[i].innerHTML.toLowerCase().includes("<strong>important</strong>") || arrOfPtags[i]
                .innerHTML.toLowerCase().includes("<strong>important:</strong>")) {
                arrOfPtags[i].className += "callout-important";
            }
            if (arrOfPtags[i].innerHTML.toLowerCase().includes("<strong>warning</strong>") || arrOfPtags[i]
                .innerHTML.toLowerCase().includes("<strong>warning:</strong>")) {
                arrOfPtags[i].className += "callout-warning";
            }
            if (arrOfPtags[i].innerHTML.toLowerCase().includes("<strong>tip</strong>") || arrOfPtags[i].innerHTML
                .toLowerCase().includes("<strong>tip:</strong>")) {
                arrOfPtags[i].className += "callout-tip";
            }
        }
        $('#searchModal').on("shown.bs.modal", function() {
            $('.ais-SearchBox-input').focus();
        })
        var elements = document.getElementsByClassName('txt-rotate');
        for (var i=0; i<elements.length; i++) {
          var toRotate = elements[i].getAttribute('data-rotate');
          var period = elements[i].getAttribute('data-period');
          if (toRotate) {
            new TxtRotate(elements[i], JSON.parse(toRotate), period);
          }
        }
        // INJECT CSS
        var css = document.createElement("style");
        css.type = "text/css";
        css.innerHTML = ".txt-rotate > .wrap { border-right: 0.08em solid #666 }";
        document.body.appendChild(css);
        let previousUrl, previousName, nextUrl, nextName;
        switch(location.pathname) {
            case('/notifications/managing_notifications/'):
                previousName = 'Rackspace Technology: Ticket list';
                previousUrl = '/tickets/ticket_cloud_list/';
                nextName = 'Manage account notifications';
                nextUrl = 'notifications/managing_notifications/';
        }
    }
    $(function(){
        var current = location.pathname;
        $('#sidebar ul.sidebar-list li.sidebar-item a').each(function() {
            var $this = $(this);
            $this.attr('onClick', function() {
                if(location.hash === ''){
                switch (current) {
                    case "/":
                        $('#current').addClass('active');
                        break;
                    case "/intended_audience/":
                        $('#current1').addClass('active');
                        break;
                    case "/introduction/":
                        $('#headingOne').addClass('active');
                        $('#headingOne').parent().children('ul').addClass('show');
                        break;
                    case "/portal_profile/":
                        $('#headingTwo').addClass('active');
                        $('#headingTwo').parent().children('ul').addClass('show');
                        break;
                    case "/manage_portal_user_groups/":
                        $('#headingThree').addClass('active');
                        $('#headingThree').parent().children('ul').addClass('show');
                        break;
                    case "/administrative/":
                        $('#headingFour').addClass('active');
                        $('#headingFour').parent().children('ul').addClass('show');
                        break;
                    case "/understand_billing/":
                        $('#headingFive').addClass('active');
                        $('#headingFive').parent().children('ul').addClass('show');
                        break;
                    case "/manage_billing/":
                        $('#headingSix').addClass('active');
                        $('#headingSix').parent().children('ul').addClass('show');
                        break;
                    case "/tickets/":
                        $('#headingSeven').addClass('active');
                        $('#headingSeven').parent().children('ul').addClass('show');
                        break;
                    case "/notifications/":
                        $('#headingEight').addClass('active');
                        $('#headingEight').parent().children('ul').addClass('show');
                        break;
                    case "/support/":
                        $('#support').addClass('active');
                        break;
                    case "/manage_portal_user_groups/rbac/":
                        $('#managePortal1').addClass('active');
                        $('#managePortal1').parent().parent().addClass('show');
                        break;
                    case "/manage_portal_user_groups/cloud_groups/":
                        $('#managePortal2').addClass('active');
                        $('#managePortal2').parent().parent().addClass('show');
                        break;
                    case "/manage_portal_user_groups/private_cloud_users/":
                        $('#managePortal3').addClass('active');
                        $('#managePortal3').parent().parent().addClass('show');
                        break;
                    case "/manage_portal_user_groups/api_key/":
                        $('#managePortal4').addClass('active');
                        $('#managePortal4').parent().parent().addClass('show');
                        break;
                    case "/manage_portal_user_groups/api_key_other/":
                        $('#managePortal5').addClass('active');
                        $('#managePortal5').parent().parent().addClass('show');
                        break;
                    case "/administrative/primary_contact/":
                        $('#administrative1').addClass('active');
                        $('#administrative1').parent().parent().addClass('show');
                        break;
                    case "/administrative/change_account_name/":
                        $('#administrative2').addClass('active');
                        $('#administrative2').parent().parent().addClass('show');
                        break;
                    case "/administrative/change_owner/":
                        $('#administrative3').addClass('active');
                        $('#administrative3').parent().parent().addClass('show');
                        break;
                    case "/understand_billing/about/":
                        $('#understand1').addClass('active');
                        $('#understand1').parent().parent().addClass('show');
                        break;
                    case "/understand_billing/estimate/":
                        $('#understand2').addClass('active');
                        $('#understand2').parent().parent().addClass('show');
                        break;
                    case "/understand_billing/current_usage/":
                        $('#understand3').addClass('active');
                        $('#understand3').parent().parent().addClass('show');
                        break;
                    case "/understand_billing/invoice_details/":
                        $('#understand4').addClass('active');
                        $('#understand4').parent().parent().addClass('show');
                        break;
                    case "/understand_billing/account_invoice/":
                        $('#understand5').addClass('active');
                        $('#understand5').parent().parent().addClass('show');
                        break;
                    case "/understand_billing/detailed_permissions/":
                        $('#understand6').addClass('active');
                        $('#understand6').parent().parent().addClass('show');
                        break;
                    case "/understand_billing/help/":
                        $('#understand7').addClass('active');
                        $('#understand7').parent().parent().addClass('show');
                        break;
                    case "/manage_billing/access/":
                        $('#manageBilling1').addClass('active');
                        $('#manageBilling1').parent().parent().addClass('show');
                        break;
                    case "/manage_billing/threshold/":
                        $("#manageBilling2").addClass('active');
                        $('#manageBilling2').parent().parent().addClass('show');
                        break;
                    case "/manage_billing/manage_methods/":
                        $('#manageBilling3').addClass('active');
                        $('#manageBilling3').parent().parent().addClass('show');
                        break;
                    case "/manage_billing/update_billing/":
                        $('#manageBilling4').addClass('active');
                        $('#manageBilling4').parent().parent().addClass('show');
                        break;
                    case "/manage_billing/vat/":
                        $('#manageBilling5').addClass('active');
                        $('#manageBilling5').parent().parent().addClass('show');
                        break;
                    case "/manage_billing/sla_credit/":
                        $('#manageBilling6').addClass('active');
                        $('#manageBilling6').parent().parent().addClass('show');
                        break;
                    case "/tickets/ticket_private/":
                        $('#tickets1').addClass('active');
                        $('#tickets1').parent().parent().addClass('show');
                        break;
                    case "/tickets/ticket_cloud_panel/":
                        $('#tickets2').addClass('active');
                        $('#tickets2').parent().parent().addClass('show');
                        break;
                    case "/notifications/managing_notifications/":
                        $('#notifications1').addClass('active');
                        $('#notifications1').parent().parent().addClass('show');
                        break;
                    case "/notifications/notification_preferences/":
                        $('#notifications2').addClass('active');
                        $('#notifications2').parent().parent().addClass('show');
                        break;
                    case "/notifications/user_preferences/":
                        $('#notifications3').addClass('active');
                        $('#notifications3').parent().parent().addClass('show');
                        break;
                    case "/notifications/situation_tickets/":
                        $('#notifications4').addClass('active');
                        $('#notifications4').parent().parent().addClass('show');
                        break;
                    case "/notifications/interpret_situation/":
                        $('#notifications5').addClass('active');
                        $('#notifications5').parent().parent().addClass('show');
                        break;
                    default:
                        break;
                }
            }  else {
                console.log(location.hash);
                switch (location.hash) {
                    case '#the-account-registration-code':
                        $('#the-account-registration-code').addClass('active');
                        $('#the-account-registration-code').parent().parent().addClass('show');
                        break;
                    case '#the-global-navigation-menu':
                        $('#the-global-navigation-menu').addClass('active');
                        $('#the-global-navigation-menu').parent().parent().addClass('show');
                        break;
                    case '#private-cloud':
                        $('#private-cloud').addClass('active');
                        $('#private-cloud').parent().parent().addClass('show');
                        break;
                    case '#public-cloud':
                        $('#public-cloud').addClass('active');
                        $('#public-cloud').parent().parent().addClass('show');
                        break;
                }
            }
            })
        })
    });

    function hashChange() {
        console.log(location.hash);
        switch (location.hash) {
            case '#the-account-registration-code':
                $('#the-account-registration-code').addClass('active');
                $('#the-account-registration-code').parent().parent().addClass('show');
                break;
            case '#the-global-navigation-menu':
                $('#the-global-navigation-menu').addClass('active');
                $('#the-global-navigation-menu').parent().parent().addClass('show');
                break;
            case '#private-cloud':
                $('#private-cloud').addClass('active');
                $('#private-cloud').parent().parent().addClass('show');
                break;
            case '#public-cloud':
                $('#public-cloud').addClass('active');
                $('#public-cloud').parent().parent().addClass('show');
                break;
        }
    }

</script>

<script
    src="https://polyfill.io/v3/polyfill.min.js?features=default%2CArray.prototype.find%2CArray.prototype.includes%2CPromise%2CObject.assign%2CObject.entries">
</script>
